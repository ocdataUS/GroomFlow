# Breadcrumb
- **Task asked:** Execute the dogs → clients backend migration (schema, code, docs) and keep the plugin upgrade-safe.
- **Plan:** 1) Ship DB migration/upgrade helpers to rename `bb_dogs` → `bb_clients` and swap `dog_id` → `client_id`. 2) Update PHP admin/utility code to read/write the new table, adjust settings terminology, and remove leftover dog-only aliases. 3) Refresh docs + changelog, rebuild the plugin ZIP, and reinstall in Docker to confirm the migration runs.
- **Files changed:** plugin/bb-groomflow/bb-groomflow.php; plugin/bb-groomflow/includes/class-plugin.php; plugin/bb-groomflow/includes/database/class-schema.php; plugin/bb-groomflow/includes/admin/class-clients-admin.php; plugin/bb-groomflow/includes/admin/class-clients-list-table.php; plugin/bb-groomflow/includes/admin/class-settings-admin.php; plugin/bb-groomflow/includes/admin/views/settings-page.php; CHANGELOG.md; SPEC.md; docs/API.md; docs/DB_SCHEMA.md; docs/clients-migration-plan.md; docs/breadcrumbs/2025-10-24-clients-migration.md (this file); docs/breadcrumbs/2025-10-24-qa-cleanup-and-migration-plan.md; docs/breadcrumbs/2025-10-24-admin-form-qa.md; docs/breadcrumbs/2025-10-24-client-terminology-refactor.md; docs/sprints/Sprint-1.md.
- **Commands executed:** bash scripts/build_plugin_zip.sh; docker compose cp …/bb-groomflow-0.1.0-dev.zip wordpress:/var/www/html/bb-groomflow-0.1.0-dev.zip; docker compose run --rm -T wpcli wp plugin install /var/www/html/bb-groomflow-0.1.0-dev.zip --force --activate; docker compose run --rm -T wpcli wp db query "SHOW TABLES LIKE '%bb_clients'" / "SHOW COLUMNS FROM …"; docker compose run --rm -T wpcli wp option get bbgf_settings --format=json; docker compose run --rm -T wpcli wp db query "DELETE FROM …" (QA cleanup); docker compose run --rm -T wpcli wp option get bbgf_db_version.
- **Tests & results:** Migration renames `bb_dogs` → `bb_clients` and `dog_id` → `client_id`; DB version now reports `1.1.0`. Remodelled settings now store `show_client_photo` only. Admin clients list & CRUD pull from the `clients` table, and settings UI posts the new key. Plugin ZIP rebuilt/reinstalled successfully.
- **Tips & Tricks:** When renaming columns on heavily indexed tables, run `ALTER TABLE … CHANGE COLUMN` first, then drop/recreate any name-specific indexes (e.g., `dog_id`).
- **Remaining work:** Future sprint: wire `/clients` REST endpoints and continue retiring leftover "dog" terminology in placeholder copy/sample data.
