# Breadcrumb
- **Task asked:** Expand Sprint 2 REST coverage by wiring Packages, Flags, and Views CRUD endpoints with parity to their admin screens.
- **Plan:** Scaffold each controller (packages → flags → views), enforce validation against existing schema/admin expectations, then PHPCS, rebuild/install, and exercise new endpoints via WP-CLI.
- **Files changed:** plugin/bb-groomflow/includes/api/class-packages-controller.php; plugin/bb-groomflow/includes/api/class-flags-controller.php; plugin/bb-groomflow/includes/api/class-views-controller.php; plugin/bb-groomflow/includes/class-plugin.php; docs/API.md.
- **Commands executed:** `qa-phpcs plugin/bb-groomflow`; `bash scripts/build_plugin_zip.sh`; `docker compose cp ../build/bb-groomflow-0.1.0-dev.zip wordpress:/var/www/html/bb-groomflow-0.1.0-dev.zip`; `docker compose run --rm -T wpcli wp plugin install /var/www/html/bb-groomflow-0.1.0-dev.zip --force --activate`; WP-CLI REST smoke tests via `wp eval` for `/bb-groomflow/v1/packages`, `/bb-groomflow/v1/flags`, `/bb-groomflow/v1/views` (GET/POST/PATCH/DELETE); `docker compose run --rm -T wpcli wp db query "SELECT id, stage_key, label FROM wp_..._bb_stages ORDER BY sort_order"`.
- **Tests & results:** PHPCS clean (`/opt/qa/artifacts/phpcs-1761746838.txt`). REST smoke tests confirm package creation/updating (including `price: null` clears the DB column), flag severity/color validation, and view stage assignment enforcement with sanitized settings + capability checks.
- **Tips & Tricks:** When updating packages via REST, send `"price": null` (and optionally `"color": null`) to clear those columns—controllers now mirror the admin’s “blank field” behavior.
- **Remaining work:** Continue Sprint 2 by bringing the visit intake, stage move, and notification scaffolding online once remaining directory endpoints (clients/guardians/services/packages/flags/views) settle.
