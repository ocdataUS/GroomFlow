# Breadcrumb
- **Task asked:** Restore the admin emoji picker so the “Choose emoji” button opens a populated board without using experimental WordPress components; rebuild and reinstall the plugin in Docker, then verify the Flags/Services/Packages forms.
- **Plan:** 1) Audit the current emoji picker bundle to understand the regression. 2) Replace the React/Popover implementation with a lightweight in-plugin picker and clean up enqueues. 3) Rebuild the ZIP, reinstall in Docker, and sanity-check the admin flows.
- **Files changed:** plugin/bb-groomflow/assets/js/admin.js; plugin/bb-groomflow/assets/css/admin.css; plugin/bb-groomflow/includes/admin/class-flags-admin.php; plugin/bb-groomflow/includes/admin/class-services-admin.php; plugin/bb-groomflow/includes/admin/class-packages-admin.php; plugin/bb-groomflow/includes/admin/class-settings-admin.php; plugin/bb-groomflow/includes/admin/class-views-admin.php; build/bb-groomflow-0.1.0-dev.zip (regenerated after each JS iteration).
- **Commands executed:** bash scripts/build_plugin_zip.sh (×3); docker compose cp ../build/bb-groomflow-0.1.0-dev.zip wordpress:/var/www/html/bb-groomflow-0.1.0-dev.zip (×3); docker compose run --rm -T wpcli wp plugin install /var/www/html/bb-groomflow-0.1.0-dev.zip --force --activate (×3); docker compose run --rm -T wpcli wp eval 'require_once ABSPATH . "wp-admin/includes/admin.php"; do_action( "admin_enqueue_scripts", "bbgf-dashboard_page_bbgf-flags" ); $scripts = wp_scripts(); echo implode( ",", $scripts->registered["bbgf-admin"]->deps ) . "\n";'; node --check plugin/bb-groomflow/assets/js/admin.js; php -l plugin/bb-groomflow/includes/admin/class-flags-admin.php; php -l plugin/bb-groomflow/includes/admin/class-services-admin.php; php -l plugin/bb-groomflow/includes/admin/class-packages-admin.php; php -l plugin/bb-groomflow/includes/admin/class-settings-admin.php; php -l plugin/bb-groomflow/includes/admin/class-views-admin.php.
- **Tests & results:** `node --check` confirms the rebuilt admin bundle parses cleanly; `php -l` passes on all touched admin controllers; rebuilt ZIP installs successfully in Docker after each iteration (wp plugin install --force --activate); WP-CLI dependency check now reports `bbgf-admin` only depends on `jquery`, `wp-i18n`, and `wp-color-picker` (previously pulled `wp-element/wp-components`). Inline `admin_enqueue_scripts` call emits existing Hello Elementor notices unrelated to GroomFlow. Latest pass keeps the popover anchored during viewport scrolls instead of closing, pending browser confirmation that the scrollbar stays interactive.
- **Tips & Tricks:** Use `docker compose run --rm -T wpcli wp eval '... wp_scripts()'` to snapshot script dependency stacks after tweaking admin enqueues—handy sanity check before shipping.
- **Remaining work:** Browser-level confirmation of the picker grid is still recommended (headless run or manual click-through) once someone has GUI access; Elementor warnings noted above persist from the base theme.
