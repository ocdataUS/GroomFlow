$bbgf-column-gap: clamp(0.35rem, 0.9vw, 0.75rem);
$bbgf-card-radius: 16px;
$bbgf-card-shadow: 0 12px 26px rgba(10, 18, 31, 0.18);

#bbgf-board-root {
	--bbgf-text: #0f172a;
	--bbgf-muted: rgba(15, 23, 42, 0.74);
	--bbgf-muted-soft: rgba(15, 23, 42, 0.6);
	--bbgf-border: rgba(15, 23, 42, 0.12);
	--bbgf-background-start: #f7f8fb;
	--bbgf-background-end: #eef2ff;
	--bbgf-column-bg: rgba(255, 255, 255, 0.94);
	--bbgf-card-bg: #ffffff;
	--bbgf-card-shadow: #{$bbgf-card-shadow};
	--bbgf-card-radius: #{$bbgf-card-radius};
	--bbgf-accent: #0ea5e9;
	--bbgf-accent-strong: #2563eb;
	--bbgf-accent-alt: #22d3ee;
	--bbgf-accent-soft: rgba(37, 99, 235, 0.12);
	--bbgf-accent-soft-strong: rgba(37, 99, 235, 0.2);
	--bbgf-service-chip-bg: rgba(14, 165, 233, 0.12);
	--bbgf-warning: #d97706;
	--bbgf-warning-bg: rgba(245, 158, 11, 0.18);
	--bbgf-warning-strong-bg: rgba(245, 158, 11, 0.28);
	--bbgf-warning-border: rgba(245, 158, 11, 0.7);
	--bbgf-critical: #ef4444;
	--bbgf-critical-bg: rgba(239, 68, 68, 0.18);
	--bbgf-critical-soft-bg: rgba(239, 68, 68, 0.08);
	--bbgf-critical-border: rgba(239, 68, 68, 0.6);
	--bbgf-flag: #f97316;
	--bbgf-flag-bg: rgba(249, 115, 22, 0.16);
	font-family: 'Manrope', 'Inter', 'SF Pro Display', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
	color: var(--bbgf-text);
	min-height: 360px;
	padding: clamp(0.85rem, 1.5vw, 1.25rem);
	background:
		radial-gradient(720px circle at 10% 8%, rgba(14, 165, 233, 0.05), transparent 38%),
		radial-gradient(540px circle at 90% 12%, rgba(244, 114, 182, 0.05), transparent 40%),
		linear-gradient(140deg, var(--bbgf-background-start) 0%, var(--bbgf-background-end) 100%);
	border-radius: 18px;
	opacity: 0;
	transition: opacity 240ms ease-out;
	width: 100%;
	max-width: none;
	margin-inline: 0;
	position: relative;
	overflow: hidden;

	// Normalize form controls inside the board so front-end matches admin.
	button,
	input,
	select,
	textarea {
		font: inherit;
		color: inherit;
	}

	input[type='text'],
	input[type='search'],
	input[type='number'],
	input[type='email'],
	input[type='tel'],
	select,
	textarea {
		border: 1px solid var(--bbgf-border);
		border-radius: 10px;
		background: #ffffffd9;
		padding: 0.55rem 0.75rem;
		transition: border-color 140ms ease, box-shadow 140ms ease;
		box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
		width: 100%;
		box-sizing: border-box;

		&:focus {
			outline: 2px solid var(--bbgf-accent-soft-strong);
			outline-offset: 2px;
			border-color: var(--bbgf-accent);
			box-shadow: 0 0 0 1px var(--bbgf-accent-soft-strong);
		}
	}

	button {
		border-radius: 10px;
		border: 1px solid var(--bbgf-border);
		background: #fffffff5;
		padding: 0.5rem 0.75rem;
	}

	&.bbgf-board--bootstrapped {
		opacity: 1;
	}
}

.bbgf-board-wrapper {
	position: relative;
	width: 100%;
	max-width: none;
	margin-inline: 0;
}

#bbgf-board-root.bbgf-board-wrapper--display {
	width: min(100vw, 1800px);
	max-width: none;
	margin-left: calc(50% - 50vw);
	margin-right: calc(50% - 50vw);
	padding: clamp(2rem, 4vw, 3rem);
	border-radius: 0;
}

.bbgf-board-hero {
	display: grid;
	grid-template-columns: 1fr;
	gap: 1rem;
	padding: 1.25rem 1.5rem;
	margin-bottom: 1.25rem;
	background: rgba(255, 255, 255, 0.92);
	border-radius: 18px;
	box-shadow: 0 10px 32px rgba(15, 23, 42, 0.08);
	border: 1px solid rgba(255, 255, 255, 0.6);
	backdrop-filter: blur(8px);
	position: relative;
}

.bbgf-hero-heading {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	align-items: flex-start;
	gap: 0.5rem 1rem;
}

.bbgf-hero-title {
	font-size: 1.4rem;
	margin: 0;
}

.bbgf-hero-badges {
	display: flex;
	flex-wrap: wrap;
	gap: 0.5rem;
}

.bbgf-hero-meta {
	margin: 0;
	color: var(--bbgf-muted);
	font-size: 0.9rem;
}

.bbgf-hero-actions {
	display: flex;
	justify-content: flex-end;
}

.bbgf-chip {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	padding: 0.35rem 0.65rem;
	border-radius: 999px;
	font-size: 0.8rem;
	font-weight: 600;
	border: 1px solid var(--bbgf-border);
	background: rgba(255, 255, 255, 0.9);
	color: var(--bbgf-muted);
	text-transform: capitalize;
	letter-spacing: 0.01em;
}

.bbgf-chip--accent {
	background: var(--bbgf-accent-soft);
	color: var(--bbgf-accent);
	border-color: rgba(14, 165, 233, 0.25);
}

.bbgf-chip--muted {
	background: rgba(15, 23, 42, 0.04);
	color: var(--bbgf-muted);
}

.bbgf-chip--stage {
	background: rgba(14, 165, 233, 0.1);
	color: var(--bbgf-accent);
	border-color: rgba(14, 165, 233, 0.35);
}

.bbgf-board-stats {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
	gap: 0.75rem;
}

.bbgf-board-stat {
	padding: 0.85rem 1rem;
	border-radius: 14px;
	background: rgba(15, 23, 42, 0.03);
	border: 1px solid rgba(15, 23, 42, 0.06);
	display: flex;
	flex-direction: column;
	gap: 0.2rem;
}

.bbgf-board-stat.is-primary {
	background: linear-gradient(135deg, rgba(14, 165, 233, 0.12), rgba(37, 99, 235, 0.08));
	border-color: rgba(37, 99, 235, 0.2);
}

.bbgf-board-stat.is-critical {
	background: linear-gradient(135deg, rgba(239, 68, 68, 0.12), rgba(239, 68, 68, 0.06));
	border-color: var(--bbgf-critical-border);
}

.bbgf-board-stat.is-flagged {
	background: linear-gradient(135deg, rgba(249, 115, 22, 0.12), rgba(249, 115, 22, 0.05));
	border-color: rgba(249, 115, 22, 0.3);
}

.bbgf-board-stat__label {
	font-size: 0.85rem;
	color: var(--bbgf-muted);
}

.bbgf-board-stat__value {
	font-size: 1.35rem;
	font-weight: 700;
}

.bbgf-filter-pills {
	display: flex;
	align-items: center;
	gap: 0.75rem;
	flex-wrap: wrap;
	padding: 0.65rem 0.85rem;
	background: rgba(255, 255, 255, 0.95);
	border-radius: 12px;
	border: 1px solid rgba(15, 23, 42, 0.08);
	box-shadow: 0 6px 18px rgba(15, 23, 42, 0.06);
	margin-bottom: 1.25rem;
}

.bbgf-filter-pills__label {
	font-weight: 700;
	color: var(--bbgf-muted);
}

.bbgf-filter-pills__list {
	display: flex;
	flex-wrap: wrap;
	gap: 0.5rem;
}

.bbgf-filter-pill {
	border: 1px solid rgba(37, 99, 235, 0.2);
	background: rgba(37, 99, 235, 0.12);
	color: var(--bbgf-accent);
	border-radius: 999px;
	padding: 0.35rem 0.7rem;
	font-weight: 600;
	cursor: pointer;
	transition: transform 120ms ease, box-shadow 120ms ease;
}

.bbgf-filter-pill:hover,
.bbgf-filter-pill:focus-visible {
	transform: translateY(-1px);
	box-shadow: 0 8px 18px rgba(37, 99, 235, 0.12);
	outline: none;
}

.bbgf-filter-pill--clear {
	background: transparent;
	color: var(--bbgf-muted);
	border-color: var(--bbgf-border);
}

.bbgf-capacity-meter {
	margin-top: 0.5rem;
	width: 100%;
	height: 6px;
	border-radius: 999px;
	background: rgba(15, 23, 42, 0.05);
	position: relative;
	overflow: hidden;
}

.bbgf-capacity-meter__fill {
	position: absolute;
	inset: 0;
	width: 0;
	background: linear-gradient(90deg, var(--bbgf-accent), var(--bbgf-accent-alt));
	transition: width 220ms ease;
}

.bbgf-capacity-meter.is-soft .bbgf-capacity-meter__fill {
	background: linear-gradient(90deg, var(--bbgf-warning), #fbbf24);
}

.bbgf-capacity-meter.is-hard .bbgf-capacity-meter__fill {
	background: linear-gradient(90deg, var(--bbgf-critical), #fb7185);
}

.bbgf-floating-controls {
	position: fixed;
	right: clamp(0.75rem, 2vw, 1.5rem);
	bottom: clamp(0.75rem, 2vw, 1.5rem);
	display: flex;
	flex-direction: column;
	gap: 0.45rem;
	z-index: 9999;
}

.bbgf-icon-button {
	appearance: none;
	border: 1px solid rgba(15, 23, 42, 0.12);
	background: rgba(255, 255, 255, 0.96);
	color: var(--bbgf-text);
	border-radius: 10px;
	padding: 0.35rem;
	min-width: 34px;
	min-height: 34px;
	cursor: pointer;
	font-weight: 700;
	box-shadow: 0 6px 14px rgba(15, 23, 42, 0.08);
	display: grid;
	place-items: center;

	&:hover,
	&:focus-visible {
		background: var(--bbgf-accent-soft);
		color: var(--bbgf-accent);
		outline: 0;
	}
}

.bbgf-refresh-button {
	display: inline-grid;
	place-items: center;
}

.bbgf-board {
	display: flex;
	flex-wrap: nowrap;
	align-items: stretch;
	gap: $bbgf-column-gap;
	overflow-x: auto;
	padding: 0 1rem 0.5rem;
	justify-content: center;
	scrollbar-width: thin;

	&::-webkit-scrollbar {
		height: 8px;
	}

	&::-webkit-scrollbar-thumb {
		background-color: rgba(26, 31, 43, 0.18);
		border-radius: 999px;
	}
}

#bbgf-board-root[data-board-mode='display'] .bbgf-board {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
	gap: clamp(1.5rem, 2.5vw, 2.5rem);
	overflow: visible;
	padding-bottom: 0;
	justify-items: stretch;
	justify-content: center;
	align-items: start;
}

#bbgf-board-root[data-board-mode='display'] .bbgf-card-notes {
	display: none;
}

#bbgf-board-root:fullscreen .bbgf-display-controls,
#bbgf-board-root[data-board-mode='display']:fullscreen .bbgf-display-controls {
	display: none;
}

#bbgf-board-root[data-board-mode='display'] .bbgf-display-controls {
	position: relative;
	margin-left: auto;
	margin-bottom: 1.5rem;
	display: flex;
	align-items: center;
	justify-content: flex-end;
	gap: 0.75rem;
}

#bbgf-board-root[data-board-mode='display'] .bbgf-display-controls .bbgf-button {
	min-width: auto;
}

#bbgf-board-root[data-board-mode='display'] .bbgf-card {
	cursor: default;
	user-select: none;
}

#bbgf-board-root[data-board-mode='display'] .bbgf-card:hover,
#bbgf-board-root[data-board-mode='display'] .bbgf-card:focus-within {
	transform: none;
	box-shadow: $bbgf-card-shadow;
}

.bbgf-column {
	display: flex;
	flex-direction: column;
	background: var(--bbgf-column-bg);
	border-radius: 14px;
	backdrop-filter: blur(8px);
	box-shadow: 0 10px 24px rgba(15, 23, 42, 0.12);
	border: 1px solid rgba(15, 23, 42, 0.08);
	min-height: 320px;
	flex: 0 0 clamp(220px, 19vw, 280px);
	overflow: hidden;
	position: relative;
}

#bbgf-board-root[data-board-mode='display'] .bbgf-column {
	flex: 1 1 auto;
	min-width: 0;
	width: min(100%, 460px);
	margin-inline: auto;
	justify-self: center;
	overflow: visible;
}

.bbgf-column--near-capacity .bbgf-column-header {
	border-bottom-color: var(--bbgf-warning-border);
}

.bbgf-column--soft-full .bbgf-column-header {
	border-bottom-color: var(--bbgf-warning-border);
}

.bbgf-column--hard-full {
	background: linear-gradient(135deg, var(--bbgf-critical-soft-bg), rgba(217, 56, 77, 0.02));
}

.bbgf-column--hard-full .bbgf-column-header {
	border-bottom-color: var(--bbgf-critical-border);
}

.bbgf-column--near-capacity .bbgf-capacity-badge {
	background: var(--bbgf-warning-bg);
	color: var(--bbgf-warning);
}

.bbgf-column--soft-full .bbgf-capacity-badge {
	background: var(--bbgf-warning-strong-bg);
	color: var(--bbgf-warning);
}

.bbgf-column--hard-full .bbgf-capacity-badge {
	background: var(--bbgf-critical-bg);
	color: var(--bbgf-critical);
}

.bbgf-column-header {
	padding: 0.75rem 0.9rem 0.65rem;
	border-bottom: 1px solid rgba(15, 23, 42, 0.08);
	display: flex;
	flex-direction: column;
	align-items: stretch;
	gap: 0.4rem;
	position: sticky;
	top: 0;
	background: inherit;
	z-index: 1;
}

.bbgf-column-title {
	font-weight: 600;
	font-size: 0.95rem;
	line-height: 1.3;
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 0.5rem;
}

.bbgf-column-body {
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
	padding: 0.6rem;
	flex: 1;
}

.bbgf-column-label {
	letter-spacing: 0.02em;
	text-transform: uppercase;
	font-size: 0.72rem;
	color: var(--bbgf-muted-soft);
}

.bbgf-column-count {
	font-size: 0.8rem;
	color: rgba(26, 31, 43, 0.6);
}

.bbgf-capacity-badge {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	padding: 0.45rem 0.7rem;
	border-radius: 999px;
	font-size: 0.75rem;
	background: var(--bbgf-border);
	color: var(--bbgf-muted);
}

.bbgf-card {
	background: var(--bbgf-card-bg);
	border-radius: var(--bbgf-card-radius);
	padding: 0.6rem 0.65rem;
	box-shadow: var(--bbgf-card-shadow);
	display: flex;
	flex-direction: column;
	gap: 0.4rem;
	position: relative;
	text-align: left;
	transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
	border: 1px solid rgba(15, 23, 42, 0.06);
	width: 100%;
	max-width: 100%;
	overflow: hidden;
	box-sizing: border-box;

	&::before {
		content: '';
		position: absolute;
		inset: 0;
		border-radius: inherit;
		border: 1px solid transparent;
		transition: border-color 180ms ease;
		pointer-events: none;
	}

	&:hover,
	&:focus-within {
		transform: translateY(-2px);
		box-shadow: 0 14px 30px rgba(15, 23, 42, 0.16);

		&::before {
			border-color: var(--bbgf-accent-soft-strong);
		}
	}

	&.bbgf-card--overdue::before {
		border-color: var(--bbgf-critical-border);
	}

	&.bbgf-card--capacity-warning::before {
		border-color: var(--bbgf-warning-border);
	}

	&.bbgf-card--active {
		transform: translateY(-4px);
		box-shadow: 0 18px 32px rgba(37, 99, 235, 0.2);
	}
}

.bbgf-card--static {
	cursor: default;
	user-select: none;
}

.bbgf-card-handle {
	display: none;
}

.bbgf-card-photo {
	width: 88px;
	height: 88px;
	flex: 0 0 88px;
	border-radius: 14px;
	background: var(--bbgf-background-start);
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 1.6rem;
	box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.65);
	overflow: hidden;
}

.bbgf-card-photo img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	border-radius: inherit;
}

.bbgf-card-body {
	display: flex;
	flex-direction: column;
	gap: 0.4rem;
	align-items: stretch;
	width: 100%;
}

.bbgf-card-top {
	display: grid;
	grid-template-columns: minmax(82px, 45%) 1fr;
	gap: 0.7rem;
	align-items: flex-start;
	min-width: 0;
}

.bbgf-card-info {
	display: flex;
	flex-direction: column;
	gap: 0.3rem;
	align-items: flex-start;
	min-width: 0;
	width: 100%;
	overflow: hidden;
}

.bbgf-card-name {
	font-size: 1rem;
	font-weight: 700;
	display: flex;
	align-items: center;
	justify-content: flex-start;
	gap: 0.35rem;
	word-break: break-word;
}

.bbgf-card-breed {
	margin: 0;
	color: var(--bbgf-muted);
	font-size: 0.88rem;
	font-weight: 500;
}

.bbgf-card-timer {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	min-width: 2.6rem;
	padding: 0.2rem 0.45rem;
	border-radius: 999px;
	font-size: 0.75rem;
	font-weight: 700;
	background: var(--bbgf-accent-soft);
	color: var(--bbgf-accent);
	font-variant-numeric: tabular-nums;
}

.bbgf-card-timer[data-state='warning'] {
	background: var(--bbgf-warning-bg);
	color: var(--bbgf-warning);
}

.bbgf-card-timer[data-state='critical'] {
	background: var(--bbgf-critical-bg);
	color: var(--bbgf-critical);
}

.bbgf-card-meta {
	display: flex;
	flex-wrap: wrap;
	gap: 0.3rem;
	align-items: center;
	justify-content: flex-start;
	font-size: 0.78rem;
	color: var(--bbgf-muted);
	min-width: 0;
	overflow-wrap: anywhere;
}

.bbgf-card-checkin {
	font-size: 0.8rem;
	color: var(--bbgf-muted);
}

.bbgf-card-flags {
	display: flex;
	flex-wrap: wrap;
	gap: 0.35rem;
	justify-content: flex-start;
	width: 100%;
}

.bbgf-card-services {
	display: flex;
	flex-wrap: wrap;
	gap: 0.2rem;
	font-size: 0.72rem;
	color: var(--bbgf-muted);
	justify-content: flex-start;
	width: 100%;
	min-width: 0;
	overflow-wrap: anywhere;
}

.bbgf-service-chip {
	background: var(--bbgf-service-chip-bg);
	padding: 0.18rem 0.38rem;
	border-radius: 999px;
	display: inline-flex;
	align-items: center;
	gap: 0.25rem;
	font-weight: 600;
	color: var(--bbgf-muted);
}

.bbgf-flag-chip {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	background: var(--bbgf-flag-bg);
	color: var(--bbgf-flag);
	padding: 0.3rem 0.5rem;
	border-radius: 999px;
	font-size: 0.72rem;
	line-height: 1;
}

.bbgf-card-notes {
	margin: 0;
	font-size: 0.85rem;
	color: var(--bbgf-muted);
	line-height: 1.45;
}

.bbgf-card-guardian {
	margin: 0;
	font-size: 0.85rem;
	color: var(--bbgf-muted);
	display: flex;
	align-items: center;
	gap: 0.35rem;
}

.bbgf-card-footer {
	display: flex;
	align-items: center;
	justify-content: flex-start;
	gap: 0.5rem;
	margin-top: 0.1rem;
	flex-wrap: wrap;
	text-align: left;
}

.bbgf-card-actions {
	display: flex;
	gap: 0.5rem;
	margin-top: 0.15rem;
	justify-content: center;
	flex-wrap: wrap;
}

.bbgf-button {
	appearance: none;
	border: none;
	border-radius: 999px;
	padding: 0.4rem 0.75rem;
	font-size: 0.78rem;
	font-weight: 600;
	background: var(--bbgf-accent-soft);
	color: var(--bbgf-accent);
	cursor: pointer;
	transition: background 140ms ease, transform 140ms ease;
	border: 1px solid transparent;

	&:hover,
	&:focus-visible {
		background: var(--bbgf-accent-soft-strong);
		transform: translateY(-1px);
	}

	&:focus {
		outline: 2px solid var(--bbgf-accent-soft-strong);
		outline-offset: 2px;
	}
}

.bbgf-button--primary {
	background: linear-gradient(135deg, var(--bbgf-accent-strong) 0%, var(--bbgf-accent-alt) 100%);
	color: #fff;
	box-shadow: 0 10px 20px rgba(67, 100, 247, 0.24);

	&:hover,
	&:focus-visible {
		background: linear-gradient(135deg, var(--bbgf-accent) 0%, var(--bbgf-accent-strong) 100%);
	}

	&:focus {
		outline-color: var(--bbgf-accent);
	}
}

.bbgf-button--ghost {
	background: transparent;
	border-color: var(--bbgf-accent-soft-strong);
	color: var(--bbgf-text);

	&:hover,
	&:focus-visible {
		background: var(--bbgf-accent-soft);
	}
}

.bbgf-button--critical {
	background: linear-gradient(135deg, var(--bbgf-critical), #fb7185);
	color: #fff;
	border-color: var(--bbgf-critical-border);
	box-shadow: 0 10px 20px rgba(239, 68, 68, 0.18);

	&:hover,
	&:focus-visible {
		background: linear-gradient(135deg, #dc2626, var(--bbgf-critical));
	}
}

.bbgf-icon-button--critical {
	background: linear-gradient(135deg, var(--bbgf-critical), #fb7185);
	border-color: var(--bbgf-critical-border);
	color: #fff;
	box-shadow: 0 10px 20px rgba(239, 68, 68, 0.18);
}

.bbgf-board--readonly .bbgf-card-actions,
#bbgf-board-root[data-readonly='true'] .bbgf-card-actions {
	display: none;
}

.bbgf-board--public .bbgf-card-notes {
	display: none;
}

@keyframes bbgf-card-pulse {
	0%,
	100% {
		transform: translateY(0);
		box-shadow: $bbgf-card-shadow;
	}

	50% {
		transform: translateY(-5px);
		box-shadow: 0 16px 30px rgba(38, 67, 226, 0.22);
	}
}

.bbgf-card--pulse {
	animation: bbgf-card-pulse 2.6s ease-in-out;
}

.bbgf-refresh-button.is-spinning .bbgf-refresh-button__icon {
	animation: bbgf-spin 0.6s linear;
}

@keyframes bbgf-spin {
	from {
		transform: rotate(0deg);
	}

	to {
		transform: rotate(360deg);
	}
}

@media (max-width: 1024px) {
	.bbgf-board-wrapper {
		width: min(100vw - 1.5rem, 100%);
	}

	#bbgf-board-root {
		padding: 1.25rem;
	}

	#bbgf-board-root[data-board-mode='display'] {
		padding: 1.5rem;
	}

	.bbgf-board-hero {
		padding: 1rem 1.1rem;
	}

	.bbgf-board-toolbar {
		padding: 0.95rem 1rem;
	}

	.bbgf-board {
		flex-direction: column;
		overflow-x: visible;
		gap: clamp(1rem, 2vw, 1.6rem);
		padding: 0;
		justify-content: flex-start;
	}

	#bbgf-board-root[data-board-mode='display'] .bbgf-board {
		display: flex;
		flex-direction: column;
		gap: clamp(1rem, 2vw, 1.6rem);
	}

	#bbgf-board-root[data-board-mode='display'] .bbgf-display-controls {
		margin-left: 0;
		justify-content: center;
	}

	.bbgf-column {
		flex: 1 1 auto;
		width: 100%;
	}

	#bbgf-board-root[data-board-mode='display'] .bbgf-column {
		width: 100%;
	}
}

@media (max-width: 782px) {
	#bbgf-board-root {
		padding: 1rem;
		border-radius: 16px;
	}

	.bbgf-column {
		min-height: auto;
	}

	.bbgf-board-hero,
	.bbgf-filter-pills {
		padding: 0.9rem 0.95rem;
	}

	.bbgf-board-toolbar {
		align-items: stretch;
	}

	.bbgf-toolbar-controls {
		width: 100%;
		justify-content: space-between;
	}

	.bbgf-card {
		align-items: center;
	}
}


.bbgf-toolbar-search {
	flex: 1 1 220px;
	max-width: 360px;
	min-width: 200px;
}

.bbgf-toolbar-search__input {
	width: 100%;
	border-radius: 999px;
	border: 1px solid rgba(26, 31, 43, 0.16);
	padding: 0.55rem 0.85rem;
	font: inherit;
	background: rgba(255, 255, 255, 0.85);
}

.bbgf-toolbar-search__input:focus {
	outline: 2px solid var(--bbgf-accent-soft-strong);
	outline-offset: 2px;
}

.bbgf-modal {
	position: fixed;
	inset: 0;
	display: none;
	z-index: 9999;
}

.bbgf-modal:not([hidden]) {
	display: block;
}

.bbgf-modal__backdrop {
	position: absolute;
	inset: 0;
	background: rgba(17, 20, 32, 0.55);
	backdrop-filter: blur(6px);
}

.bbgf-modal__dialog {
	position: relative;
	max-width: clamp(320px, 60vw, 640px);
	max-height: 92vh;
	margin: 5vh auto;
	background: var(--bbgf-card-bg);
	border-radius: 18px;
	box-shadow: 0 18px 44px rgba(10, 18, 31, 0.28);
	overflow: hidden;
	display: flex;
	flex-direction: column;
	gap: 0;
	width: calc(100% - 2rem);
}

.bbgf-modal__header {
	display: flex;
	align-items: flex-start;
	justify-content: space-between;
	gap: 0.85rem;
	padding: 1.1rem 1.4rem 1.1rem;
	border-bottom: 1px solid var(--bbgf-border);
	position: relative;
}

.bbgf-modal__header > * {
	flex-shrink: 0;
}

.bbgf-modal__heading {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	flex-wrap: wrap;
	min-width: 0;
}

.bbgf-modal__tabs {
	display: flex;
	gap: 0.75rem;
	padding: 0.65rem 1.4rem 0.4rem;
	border-bottom: 1px solid var(--bbgf-border);
	margin-bottom: 0.25rem;
	flex-wrap: wrap;
	overflow: visible;
	position: sticky;
	top: 0;
	z-index: 4;
	background: var(--bbgf-card-bg);
}

.bbgf-modal__tab {
	border: 1px solid transparent;
	background: transparent;
	font: inherit;
	padding: 0.4rem 0.85rem;
	border-radius: 12px;
	color: var(--bbgf-muted);
	cursor: pointer;
	transition: background 140ms ease, color 140ms ease, border-color 140ms ease;
	white-space: nowrap;
	min-height: 34px;
	position: relative;
}

.bbgf-modal__tab.is-active {
	background: var(--bbgf-accent-soft);
	color: var(--bbgf-text);
	border-color: var(--bbgf-accent);
	font-weight: 700;
	box-shadow: 0 8px 18px rgba(12, 18, 31, 0.12);
}

.bbgf-modal__tab.is-active::after {
	content: '';
	position: absolute;
	left: 0.75rem;
	right: 0.75rem;
	bottom: -0.55rem;
	height: 3px;
	background: var(--bbgf-accent);
	border-radius: 999px;
}

.bbgf-modal__tab:focus-visible {
	outline: 2px solid var(--bbgf-accent);
	outline-offset: 2px;
}

.bbgf-modal__title {
	font-size: 1.1rem;
	margin: 0;
}

.bbgf-modal__close {
	position: static;
	border: 1px solid var(--bbgf-border);
	background: rgba(255, 255, 255, 0.95);
	border-radius: 10px;
	width: 34px;
	height: 34px;
	display: inline-grid;
	place-items: center;
	font-size: 1.1rem;
	font-weight: 700;
	cursor: pointer;
	box-shadow: 0 6px 14px rgba(15, 23, 42, 0.08);
	color: var(--bbgf-muted);
	margin-left: 0.15rem;

	&:hover,
	&:focus-visible {
		background: var(--bbgf-accent-soft);
		color: var(--bbgf-accent);
		outline: none;
	}
}

.bbgf-modal__badge {
	font-size: 0.75rem;
	font-weight: 600;
	padding: 0.25rem 0.5rem;
	border-radius: 999px;
	background: var(--bbgf-border);
	color: var(--bbgf-muted);
}

.bbgf-modal__body {
	padding: 1.1rem 1.4rem 1.6rem;
	max-height: min(70vh, 520px);
	overflow-y: auto;
	display: flex;
	flex-direction: column;
	gap: 1.25rem;
	min-height: 0;
}

.bbgf-modal__error {
	background: var(--bbgf-critical-bg);
	border: 1px solid var(--bbgf-critical-border);
	color: var(--bbgf-critical);
	border-radius: 12px;
	padding: 0.75rem 1rem;
	margin-bottom: 1rem;
}

.bbgf-modal__nav {
	display: flex;
	gap: 0.35rem;
	align-items: center;
	justify-content: flex-end;
	width: auto;
	flex-wrap: wrap;
}

.bbgf-modal__nav-actions {
	display: flex;
	gap: 0.35rem;
	align-items: center;
	flex-wrap: wrap;
}

.bbgf-modal__nav-info {
	display: flex;
	flex-direction: column;
	gap: 0.1rem;
	font-size: 0.9rem;
	color: var(--bbgf-muted);
	align-items: flex-end;
	text-align: right;
}

.bbgf-modal__header-actions {
	display: flex;
	align-items: center;
	justify-content: flex-end;
	gap: 0.35rem;
	margin-left: auto;
}

.bbgf-intake-header-actions {
	display: flex;
	align-items: center;
	flex-wrap: wrap;
	gap: 0.4rem;
	margin-left: auto;
}

.bbgf-intake-selected--header {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	background: var(--bbgf-accent-soft);
	color: var(--bbgf-accent);
	padding: 0.35rem 0.55rem;
	border-radius: 10px;
	font-weight: 600;
}

.bbgf-modal__nav-info span:first-child {
	font-weight: 700;
	color: var(--bbgf-text);
}

.bbgf-modal__nav-status {
	font-weight: 700;
	color: var(--bbgf-text);
}

.bbgf-modal__nav button {
	min-width: 0;
}

.bbgf-modal-section + .bbgf-modal-section {
	margin-top: 1.25rem;
}

.bbgf-modal-form {
	display: flex;
	flex-direction: column;
	gap: 1rem;
}

.bbgf-modal-field {
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
}

.bbgf-modal-field textarea {
	min-height: 90px;
	border-radius: 10px;
	border: 1px solid var(--bbgf-border);
	padding: 0.75rem;
	font: inherit;
}

.bbgf-modal-field textarea:focus {
	outline: 2px solid var(--bbgf-accent-soft-strong);
	outline-offset: 2px;
}

.bbgf-modal__actions {
	display: flex;
	justify-content: flex-end;
	padding-top: 0.5rem;
}

.bbgf-modal-service-list {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
	gap: 0.75rem;
}

.bbgf-modal-service {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	padding: 0.65rem 0.75rem;
	border: 1px solid rgba(26, 31, 43, 0.12);
	border-radius: 10px;
}

.bbgf-modal-service input {
	width: 1.1rem;
	height: 1.1rem;
}

.bbgf-modal-history {
	margin: 0;
	padding-left: 0;
	list-style: none;
	display: flex;
	flex-direction: column;
	gap: 0.9rem;
}

.bbgf-history-entry {
	background: rgba(26, 31, 43, 0.04);
	border-radius: 12px;
	padding: 0.75rem 1rem;
}

.bbgf-history-duration {
	color: rgba(26, 31, 43, 0.6);
	margin: 0.25rem 0;
}

.bbgf-modal-photos {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
	gap: 1rem;
}

.bbgf-modal-photo {
	margin: 0;
	background: rgba(26, 31, 43, 0.04);
	border-radius: 12px;
	overflow: hidden;
	text-align: center;
	display: flex;
	flex-direction: column;
	gap: 0.4rem;
}

.bbgf-modal-photo__thumb {
	position: relative;
	aspect-ratio: 1 / 1;
	overflow: hidden;
}

.bbgf-modal-photo__thumb img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	display: block;
}

.bbgf-modal-photo figcaption {
	padding: 0.5rem;
	font-size: 0.9rem;
	color: rgba(26, 31, 43, 0.8);
}

.bbgf-photo-badge {
	position: absolute;
	top: 0.5rem;
	left: 0.5rem;
	background: var(--bbgf-critical-bg);
	color: var(--bbgf-critical);
	padding: 0.25rem 0.4rem;
	border-radius: 8px;
	font-size: 0.75rem;
}

.bbgf-photo-badge--primary {
	background: var(--bbgf-accent);
	color: #fff;
}

.bbgf-photo-actions {
	margin-top: 0.35rem;
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
}

.bbgf-photo-primary {
	width: 100%;
}

.bbgf-photo-visibility {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	font-size: 0.85rem;
	color: var(--bbgf-muted);
}

.bbgf-photo-upload {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
	align-items: start;
	gap: 1rem;
	padding: 0.85rem;
	border: 1px dashed var(--bbgf-border);
	border-radius: 12px;
	background: rgba(255, 255, 255, 0.7);
	width: 100%;
}

.bbgf-photo-upload__file {
	display: inline-flex;
	align-items: center;
	gap: 0.5rem;
	padding: 0.65rem 0.9rem;
	border-radius: 999px;
	background: var(--bbgf-accent-soft);
	color: var(--bbgf-accent);
	border: 1px solid var(--bbgf-accent);
	font-weight: 600;
	cursor: pointer;
	position: relative;
	overflow: hidden;
	width: fit-content;
	min-width: 200px;
	transition: background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease;

	&:hover,
	&:focus-visible,
	&:focus-within {
		background: var(--bbgf-accent-soft-strong, rgba(0, 0, 0, 0.04));
		box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08), 0 2px 6px rgba(0, 0, 0, 0.06);
		outline: none;
	}

	&:active {
		transform: translateY(1px);
	}
}

.bbgf-photo-upload__file input[type='file'] {
	position: absolute;
	inset: 0;
	opacity: 0;
	cursor: pointer;
}

.bbgf-photo-upload__visibility {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	font-size: 0.9rem;
	color: var(--bbgf-muted);
	align-self: center;
}

.bbgf-photo-upload__pending {
	grid-column: 1 / -1;
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
	font-size: 0.95rem;
	color: var(--bbgf-muted);
}

.bbgf-photo-upload__list {
	margin: 0;
	padding: 0 0 0 1rem;
	display: flex;
	flex-direction: column;
	gap: 0.15rem;
}

.bbgf-photo-upload__hint {
	margin: 0;
	color: var(--bbgf-muted);
}

.bbgf-photo-upload__actions {
	display: flex;
	gap: 0.5rem;
	flex-wrap: wrap;
}

.bbgf-modal__actions--photos {
	justify-content: space-between;
	align-items: center;
	gap: 0.75rem;
	flex-wrap: wrap;
}

.bbgf-intake-modal .bbgf-modal__dialog {
	max-width: 1100px;
	width: 100%;
	max-height: 90vh;
	display: flex;
	flex-direction: column;
}

.bbgf-intake-modal .bbgf-modal__body {
	flex: 1 1 auto;
}

.bbgf-intake-tabs {
	padding: 0.4rem 0.25rem 0.6rem;
	margin-left: -0.25rem;
	margin-right: -0.25rem;
}

.bbgf-intake-panel-wrap {
	display: block;
	margin-top: 0.25rem;
	overflow: auto;
	min-height: 0;
}

.bbgf-intake-body {
	max-height: none;
	display: grid;
	grid-template-rows: auto auto 1fr;
	overflow: hidden;
	gap: 0.65rem;
	padding-top: 0.75rem;
	min-height: 0;
}

.bbgf-intake-panel-wrap {
	padding-right: 0.35rem;
}

.bbgf-intake-view-hint {
	margin: 0.25rem 0 0.5rem;
	color: var(--bbgf-muted);
	font-size: 0.95rem;
}

.bbgf-intake-body .bbgf-modal__tabs {
	position: sticky;
	top: 0;
	z-index: 3;
	background: var(--bbgf-card-bg, #fff);
}

.bbgf-intake-body .bbgf-intake-selected-wrap {
	position: sticky;
	top: 3.1rem;
	z-index: 2;
	background: linear-gradient(180deg, rgba(255, 255, 255, 0.96), rgba(255, 255, 255, 0.82));
	padding-bottom: 0.15rem;
}

.bbgf-intake-body .bbgf-intake-panel-wrap {
	padding-top: 0.25rem;
}

.bbgf-intake-selected-wrap {
	margin: 0.25rem 0 0.5rem;
}

.bbgf-intake-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
	gap: 1rem;
}

.bbgf-intake-panel {
	background: rgba(255, 255, 255, 0.9);
	border: 1px solid var(--bbgf-border);
	border-radius: 14px;
	padding: 0.85rem;
	box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
	display: grid;
	gap: 0.65rem;
}

.bbgf-intake-panel h3 {
	margin: 0;
	font-size: 1.05rem;
	color: var(--bbgf-text-strong);
}

.bbgf-intake-search input[type='search'] {
	width: 100%;
	border: 1px solid var(--bbgf-border);
	border-radius: 10px;
	padding: 0.65rem 0.75rem;
	font-size: 1rem;
	outline: none;
}

.bbgf-intake-results {
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
	max-height: 380px;
	overflow: auto;
}

.bbgf-intake-result {
	display: flex;
	justify-content: space-between;
	align-items: center;
	gap: 0.5rem;
	padding: 0.65rem 0.75rem;
	border: 1px solid var(--bbgf-border);
	border-radius: 10px;
}

.bbgf-intake-result__title {
	margin: 0;
	font-weight: 700;
	color: var(--bbgf-text-strong);
}

.bbgf-intake-result__meta,
.bbgf-intake-result__contact {
	margin: 0;
	color: var(--bbgf-muted);
	font-size: 0.9rem;
}

.bbgf-intake-field {
	display: flex;
	flex-direction: column;
	gap: 0.25rem;
}

.bbgf-intake-field label {
	font-weight: 600;
	color: var(--bbgf-muted);
}

.bbgf-intake-field input,
.bbgf-intake-field textarea,
.bbgf-intake-field select {
	border: 1px solid var(--bbgf-border);
	border-radius: 10px;
	padding: 0.55rem 0.6rem;
	font-size: 0.95rem;
	width: 100%;
}

.bbgf-intake-field textarea {
	min-height: 80px;
}

.bbgf-intake-selected {
	margin: 0.35rem 0;
	padding: 0.5rem 0.65rem;
	border-radius: 10px;
	background: var(--bbgf-accent-soft);
	color: var(--bbgf-accent);
	font-weight: 600;
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
}

.bbgf-chip-clear {
	background: transparent;
	border: none;
	color: inherit;
	font-size: 1rem;
	cursor: pointer;
}

.bbgf-intake-button {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	background: var(--bbgf-accent);
	color: #fff;
	border: none;
	padding: 0.65rem 0.9rem;
	border-radius: 999px;
	box-shadow: 0 10px 30px rgba(0, 0, 0, 0.14);
}

.bbgf-intake-button__label {
	display: none;
}

.bbgf-modal__hint {
	font-size: 0.9rem;
	color: var(--bbgf-muted);
}

.bbgf-lightbox {
	position: fixed;
	inset: 0;
	z-index: 10000;
}

.bbgf-lightbox__backdrop {
	position: absolute;
	inset: 0;
	background: rgba(0, 0, 0, 0.55);
	backdrop-filter: blur(4px);
}

.bbgf-lightbox__body {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	background: #fff;
	padding: 1rem;
	border-radius: 12px;
	box-shadow: 0 18px 40px rgba(0, 0, 0, 0.35);
	max-width: min(90vw, 960px);
	max-height: 90vh;
	display: flex;
	flex-direction: column;
	gap: 0.75rem;
}

.bbgf-lightbox__body img {
	max-width: 100%;
	max-height: 78vh;
	object-fit: contain;
}

.bbgf-lightbox__close {
	align-self: flex-end;
}

.bbgf-toast {
	position: relative;
	margin-bottom: 1rem;
	padding: 0.75rem 1rem;
	background: var(--bbgf-critical-bg);
	border: 1px solid var(--bbgf-critical-border);
	border-radius: 12px;
	display: none;
	align-items: center;
	justify-content: space-between;
	gap: 0.75rem;
	color: var(--bbgf-critical);
}

.bbgf-toast.is-active {
	display: flex;
}

.bbgf-toast__message {
	margin: 0;
	flex: 1;
}

.bbgf-toast__dismiss {
	min-width: auto;
	padding: 0.3rem 0.6rem;
	font-size: 0.9rem;
}

.bbgf-card--draggable {
	cursor: grab;
}

.bbgf-card--draggable:active {
	cursor: grabbing;
}

.bbgf-card--pending {
	opacity: 0.6;
}

.bbgf-card.is-dragging {
	opacity: 0.5;
}

.bbgf-column--drag-hover {
	outline: 2px dashed rgba(38, 67, 226, 0.45);
	outline-offset: -8px;
}

.bbgf-modal-section h3,
.bbgf-modal-section h4 {
	margin: 0 0 0.5rem;
	font-weight: 600;
}

.bbgf-modal-meta {
	margin: 0;
	color: var(--bbgf-muted-soft);
	font-size: 0.9rem;
}

.bbgf-modal-list {
	margin: 0;
	padding-left: 1.25rem;
}

.bbgf-modal__loading {
	margin: 0;
	font-style: italic;
	color: var(--bbgf-muted);
}

.bbgf-modal--readonly .bbgf-modal__badge {
	background: var(--bbgf-accent-soft);
	color: var(--bbgf-accent);
}

.bbgf-modal--readonly .bbgf-modal__body {
	background: linear-gradient(180deg, rgba(244, 247, 255, 0.55) 0%, rgba(244, 247, 255, 0) 60%);
}

.bbgf-modal .bbgf-modal__body::-webkit-scrollbar {
	width: 8px;
}

.bbgf-modal .bbgf-modal__body::-webkit-scrollbar-thumb {
	background: rgba(26, 31, 43, 0.2);
	border-radius: 999px;
}


.bbgf-modal-summary {
	display: flex;
	flex-direction: column;
	gap: 1.5rem;
}

.bbgf-modal-summary__header {
	display: flex;
	align-items: flex-start;
	gap: 1.25rem;
	flex-wrap: wrap;
}

.bbgf-modal-summary__primary {
	display: flex;
	flex-direction: column;
	gap: 0.4rem;
	min-width: 0;
}

.bbgf-modal-summary__photo {
	width: 72px;
	height: 72px;
	border-radius: 18px;
	overflow: hidden;
	background: rgba(255, 255, 255, 0.12);
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 1.75rem;
	color: rgba(26, 31, 43, 0.75);
}

.bbgf-modal-summary__photo img {
	width: 100%;
	height: 100%;
	object-fit: cover;
}

.bbgf-modal-summary__name {
	font-size: 1.35rem;
	margin: 0;
}

.bbgf-modal-summary__subtitle {
	margin: 0;
	display: flex;
	flex-wrap: wrap;
	align-items: center;
	gap: 0.5rem;
	color: rgba(26, 31, 43, 0.65);
	font-size: 0.95rem;
}

.bbgf-modal-summary__stage {
	font-weight: 600;
	color: var(--bbgf-muted);
}

.bbgf-modal-summary__elapsed {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	padding: 0.2rem 0.65rem;
	border-radius: 999px;
	background: var(--bbgf-accent-soft);
	color: var(--bbgf-accent);
	font-size: 0.82rem;
	font-weight: 600;
}

.bbgf-modal-summary__meta {
	margin: 0;
	color: var(--bbgf-muted);
	font-size: 0.9rem;
}

.bbgf-modal-summary__tags {
	display: flex;
	flex-wrap: wrap;
	gap: 0.5rem;
}

.bbgf-modal-chip {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	padding: 0.35rem 0.65rem;
	border-radius: 999px;
	background: var(--bbgf-border);
	color: var(--bbgf-muted);
	font-size: 0.85rem;
	font-weight: 500;
}

.bbgf-modal-chip--flag {
	background: var(--bbgf-critical-bg);
	color: var(--bbgf-critical);
}

.bbgf-modal-summary__grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
	gap: 1rem 1.5rem;
}

.bbgf-summary-item {
	display: flex;
	flex-direction: column;
	gap: 0.2rem;
}

.bbgf-summary-item__label {
	font-weight: 600;
	color: rgba(26, 31, 43, 0.75);
	font-size: 0.9rem;
}

.bbgf-summary-item__value {
	color: rgba(26, 31, 43, 0.9);
	word-break: break-word;
	font-size: 0.95rem;
}

.bbgf-modal-summary__notes {
	display: grid;
	gap: 0.85rem;
}

.bbgf-modal-note {
	padding: 0.85rem 1rem;
	border-radius: 14px;
	background: rgba(26, 31, 43, 0.05);
	box-shadow: inset 0 0 0 1px rgba(26, 31, 43, 0.05);
}

.bbgf-modal-note h4 {
	margin: 0;
	font-size: 0.95rem;
	color: rgba(26, 31, 43, 0.78);
}

.bbgf-modal-note p {
	margin: 0.35rem 0 0;
	color: rgba(26, 31, 43, 0.75);
	font-size: 0.9rem;
}
